<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Host - TTX (Teka-Teki Extreme)</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
        <!-- GAME MANAGEMENT PAGE (main game page for host) -->
        <div id="hostGamePage" class="host-page" style="display: block;">
            <!-- Header -->
                <div class="page-header">
                <button class="btn-back" onclick="goHome()">← Kembali</button>
                
                <div id="displayRoomCodeInGame" class="room-code-display" style="margin-left:8px;">----</div>
                <div class="header-actions">
                    <button class="btn btn-danger" onclick="leaveRoomAsHost()">Tinggalkan Ruangan</button>
                </div>
            </div>

            <!-- Game Management Content -->
            <div class="host-content">

                <!-- MANAGE TAB (Kelola Soal Aktif) -->
                <div id="manageTab" class="tab-content active">
                    <!-- Current Question Section -->
                    <div id="currentQuestionDisplay">
                        <!-- Tampilan saat belum ada soal -->
                        <div class="question-text-display" id="emptyQuestionState" style="display: block;">
                            <h1>BELUM ADA SOAL</h1>
                            <h1>SILAHKAN BUAT DULU</h1>
                            <div class="question-actions">
                                <button class="btn" onclick="openCreateQuestionModal()">Tambah Soal</button>
                            </div>
                        </div>

                        <!-- Tampilan setelah ronde selesai - memilih soal selanjutnya -->
                        <div class="question-text-display" id="nextQuestionState" style="display: none;">
                            <h1>PILIH SOAL SELANJUTNYA</h1>
                            <h1>ATAU TAMBAHKAN SOAL BARU</h1>
                            <div class="question-actions">
                                <button class="btn" onclick="openCreateQuestionModal()">Tambah Soal</button>
                            </div>
                        </div>

                        <div id="questionBox" class="question-box" style="display: none;">
                            <!-- Tampilan soal aktif (DITENGAHKAN) -->
                            <div class="question-display-center">
                                <h3 id="displayQuestion"></h3>
                            </div>

                            <!-- Jawaban -->
                            <div class="answer-boxes-display">
                                <div id="answerBoxes" class="answer-grid"></div>
                            </div>
                        </div>

                            <div class="host-controls" id="hostControls" style="display:none;">
                                <div style="margin-bottom: 20px;">
                                    <label for="awardPointsPlayer">Berikan Poin Ke:</label>
                                    <select id="awardPointsPlayer">
                                        <option value="">-- Pilih Peserta --</option>
                                    </select>
                                    <input type="number" id="awardPointsInput" placeholder="Jumlah Poin Soal Ini" min="0" max="1000">
                                    <button class="btn btn-success" onclick="awardPoints()">Berikan Poin</button>
                                </div>

                                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                    <button class="btn btn-reveal" onclick="revealAnswer()">Buka Jawaban</button>
                                    <button class="btn btn-wrong" onclick="markAnswerWrong()">Jawaban Salah</button>
                                    <button class="btn btn-next" onclick="nextRound()">Ronde Selanjutnya</button>
                                    <button class="btn" onclick="openCreateQuestionModal()">Tambah Soal</button>
                                </div>

                                <div id="gamePlayError" class="error-message" style="display: none; margin-top: 15px;"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Notice when no questions exist -->
                    <!-- <div id="noQuestionsNotice" style="display:none; text-align:center; padding:30px;">
                        <h1 class="empty-message">Belum ada soal. Silakan buat dulu.</h1>
                            <div style="margin-top:16px; display:flex; gap:12px; justify-content:center;">
                            <button class="btn btn-create" onclick="openCreateQuestionModal()">Buat Soal</button>
                            <button class="btn" onclick="openDaftarSoalModal()">Daftar Soal</button>
                        </div>
                    </div> -->

                    <!-- Scores Board -->
                    <div class="scores-section" style="margin-top: 40px;">
                        <h3>Papan Skor Saat Ini</h3>
                        <div id="scoresBoard" class="scores-board">
                            <p class="empty-message">Belum ada skor</p>
                        </div>
                    </div>
                </div>

                <!-- CREATE QUESTION is now a modal (opened by "Tambah Soal" / "Buat Soal" buttons) -->
                <!-- Modal markup placed here so it is adjacent to game content -->
                <div id="modalOverlay" class="modal-overlay" style="display:none;"></div>
                <div id="createQuestionModal" class="modal" style="display:none;">
                    <div class="modal-header">
                        <h2>Tambahkan Soal Baru</h2>
                        <button class="btn-back" onclick="closeCreateQuestionModal()">✕</button>
                    </div>
                    <div class="modal-body">
                        <!-- <div class="form-group">
                            <label for="gameQuestionText">Soal:</label>
                            <input type="text" id="gameQuestionText" placeholder="Masukkan soal" maxlength="100" style="text-transform: uppercase;">
                        </div> -->

                        <div class="form-group">
                            <label for="gameQuestionAnswer">Jawaban:</label>
                            <input type="text" id="gameQuestionAnswer" placeholder="Masukkan Jawaban" maxlength="100" style="text-transform: uppercase;">
                        </div>

                        <div class="form-group">
                            <label for="gameHelpingLettersInput">Huruf Bantu (format: posisi,huruf) — posisi mulai dari 1</label>
                            <input type="text" id="gameHelpingLettersInput" placeholder="Contoh: 1,A atau 1,A;4,C jika huruf bantu lebih dari satu." maxlength="200" style="text-transform: uppercase;">
                            <small style="color: #999; margin-top: 5px; display: block;">Gunakan pemisah ';' atau '|' untuk beberapa huruf. Posisi dimulai dari 1.</small>
                        </div>

                        <!-- <div class="form-group">
                            <label for="gameQuestionPoints">Poin Soal:</label>
                            <input type="number" id="gameQuestionPoints" value="100" min="1" max="1000">
                        </div> -->

                        <div style="display:flex; gap:8px; justify-content:flex-end; margin-top:12px;">
                            <button class="btn" onclick="closeCreateQuestionModal()">Batal</button>
                            <button class="btn btn-create" onclick="createQuestionDuringGame(); closeCreateQuestionModal();">Buat Soal</button>
                        </div>

                        <div id="gameCreationError" class="error-message" style="display: none; margin-top: 15px;"></div>
                    </div>
                </div>


            </div>
        </div>

    <script src="script.js"></script>
</body>
</html>
